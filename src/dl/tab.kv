#: import utils kivy.utils
#: import Factory kivy.factory.Factory

<RepeatPopup@Popup>:
   auto_dismiss: True 
   title: 'Repeat'
   size_hint: 0.9, 0.7
   GridLayout:
      cols: 1
      rows: 2
      BoxLayout:
         orientation:'vertical'
         padding: 15
         spacing: 15
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {1:'Mon'})
               active: self.is_active('Mon')
            Label:
               text:'Mon'
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {2:'Tue'})
               active: self.is_active('Tue')
            Label:
               text:'Tues'
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {3:'Wed'})
               active: self.is_active('Wed')
            Label:
               text:'Wed'
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {4:'Thu'})
               active: self.is_active('Thu')
            Label:
               text:'Thurs'
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {5:'Fri'})
               active: self.is_active('Fri')
            Label:
               text:'Fri'
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {6:'Sat'})
               active: self.is_active('Sat')
            Label:
               text:'Sat'
         BoxLayout:
            orientation: 'horizontal'
            CheckBoxLayout:
               on_active: self.repeat_check(self, self.active, {7:'Sun'})
               active: self.is_active('Sun')
            Label:
               text:'Sun'
      Button:
         text:'Close'
         font_size: 20
         size_hint: 0.1, 0.1
         on_release: root.dismiss()

<TabLayout>:
   hour:hour
   minute:minute
   second:second
   sound:sound 
   popup:popup
   label:label
   alert_msg:alert_msg
   do_default_tab: False
   tab_pos: 'left_top'
   tab_height: self.parent.height / 15
   tab_width: self.parent.width / 5

   TabbedPanelItem:
      text: ''
      canvas:
         Rectangle:
            source: 'images/setting.png'
            size: self.size
            pos: self.pos
      GridLayout:
         cols: 1
         Label:
            text:'Add Remainder'
            size_hint_y: 0.1
            background_normal: ''
            background_color: (60/255, 60/255, 61/255, 1)  
            canvas.before:
               Color:
                  rgba: self.background_color
               Rectangle:
                  size: self.size 
                  pos: self.pos 
            # text properties
            bold: True 
            italic: True 

         GridLayout:
            cols: 1
            row_default_height: '48dp'
            row_force_default: True
            spacing: 10, 10
            padding: 10, 10
            GridLayout:
               cols: 2
               Label:
                  text:'Time' 
                  background_color: utils.get_color_from_hex('#4f4e4e')
                  canvas.before:
                     Color:
                        rgba: self.background_color
                     Rectangle:
                        size: self.size 
                        pos: self.pos 
               Label:
                  text:'Repeat'
                  background_color: utils.get_color_from_hex('#4f4e4e')
                  canvas.before:
                     Color:
                        rgba: self.background_color
                     Rectangle:
                        size: self.size 
                        pos: self.pos 
            GridLayout:
               cols: 2
               GridLayout:
                  cols: 1
                  BoxLayout:
                     orientation:'horizontal'
                     TextInput:
                        id: hour
                        text:'00'
                        size_hint_y: 1
                        size_hint_x: 0.5
                     TextInput:
                        id: minute
                        text:'00'
                        size_hint_y: 1
                        size_hint_x: 0.5
                     TextInput:
                        id: second
                        text:'00'
                        size_hint_y: 1
                        size_hint_x: 0.5
                  BoxLayout:
                     orientation:'horizontal'
                     Label:
                        text:'hh'
                     Label:
                        text:'mm'
                     Label:
                        text:'ss'
               OnceBoxLayout:
                  once_days: once_days
                  orientation:'vertical'
                  Button:
                     text:'once >'
                     background_color: (35/255, 36/255, 35/255, 1)
                     on_release: Factory.RepeatPopup().open()
                  Label:
                     id: once_days
                     text: self.parent.get_days(self)
                     background_color: (35/255, 36/255, 35/255, 1)
                     canvas.before:
                        Color:
                           rgba: self.background_color
                        Rectangle:
                           size: self.size 
                           pos: self.pos 
                     color: (247/255, 134/255, 126/255, 1)
                     font_size: 18
            
            GridLayout:
               cols: 1
               Label:
                  text:'Alarm Type'
                  background_color: utils.get_color_from_hex('#4f4e4e')
                  canvas.before:
                     Color:
                        rgba: self.background_color
                     Rectangle:
                        size: self.size 
                        pos: self.pos 
               GridLayout:
                  cols: 2
                  BoxLayout:
                     orientation:'horizontal'
                     CheckBox:
                        id: popup
                        on_active: root.alarm_type_checkbox(self, self.active, 0)
                        active: True
                     Label:
                        text:'Popup'
                     CheckBox:
                        id: sound
                        on_active: root.alarm_type_checkbox(self, self.active, 1)
                     Label:
                        text:'Sound'
            GridLayout:
               cols: 1
               rows: 2
               Label:
                  text:'Label'
                  background_color: utils.get_color_from_hex('#4f4e4e')
                  canvas.before:
                     Color:
                        rgba: self.background_color
                     Rectangle:
                        size: self.size 
                        pos: self.pos 
               TextInput:
                  id: label
                  text:''
            GridLayout:
               cols: 2
               Button:
                  text:'Cancel'
                  background_color: (252/255, 36/255, 8/255, 1)
                  on_release: root.clear()
               Button:
                  text:'Add'
                  background_color: (4/255, 204/255, 57/255, 1)
                  on_release: root.add()
            Label:
               id: alert_msg
               text:''
               background_color: (64/255, 62/255, 63/255, 1)
               canvas.before:
                  Color:
                     rgba: self.background_color
                  Rectangle:
                     size: self.size 
                     pos: self.pos 
               color: (62/255, 92/255, 70/255, 1)
               font_size: 48

   TabbedPanelItem:
      text: ''
      canvas:
         Rectangle:
            source: 'images/list.png'
            size: self.size
            pos: self.pos
      Button:
         background_normal: 'images/list.png'
         text:''
         size_hint_y: 0.2

   TabbedPanelItem:
      text: ''
      size_hint: .5, 0.5   
      canvas:
         Rectangle:
            source: 'images/home.png'
            size: self.size
            pos: self.pos
      Button:
         background_normal: 'images/home.png'
         text:''
         size_hint_y: 0.2